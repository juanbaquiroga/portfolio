import { motion, useInView } from "framer-motion";
import styles from "./Icon.module.scss";
import { useRef } from "react";

type IconProps = {
    icon: 'instagram' | 'linkedin' | 'github' | 'whatsapp';
    link: string;
    inView: boolean
};

const icons = {
    instagram: (
        <motion.svg className={styles.svg} viewBox="0 0 40 40">
            <motion.path className={styles.path} fillRule="evenodd" clipRule="evenodd" d="M20 0C14.5692 0 13.8877 0.023077 11.7538 0.12C9.62461 0.216923 8.17077 0.555385 6.89846 1.04923C5.56418 1.55176 4.35557 2.3393 3.35692 3.35692C2.33911 4.35602 1.55157 5.56517 1.04923 6.9C0.555385 8.17077 0.218462 9.62461 0.12 11.7538C0.023077 13.8877 0 14.5692 0 20C0 25.4308 0.023077 26.1123 0.12 28.2462C0.216923 30.3754 0.555385 31.8292 1.04923 33.1C1.56154 34.4154 2.24462 35.5308 3.35692 36.6431C4.35557 37.6607 5.56418 38.4482 6.89846 38.9508C8.17077 39.4431 9.62461 39.7815 11.7538 39.88C13.8877 39.9769 14.5692 40 20 40C25.4308 40 26.1123 39.9769 28.2462 39.88C30.3754 39.7831 31.8292 39.4446 33.1 38.9508C34.4349 38.4485 35.644 37.6609 36.6431 36.6431C37.6609 35.644 38.4484 34.4348 38.9508 33.1C39.4431 31.8292 39.7815 30.3754 39.88 28.2462C39.9769 26.1123 40 25.4308 40 20C40 14.5692 39.9769 13.8877 39.88 11.7538C39.7831 9.62461 39.4446 8.17077 38.9492 6.9C38.4473 5.56531 37.6603 4.35617 36.6431 3.35692C35.644 2.33908 34.4349 1.55152 33.1 1.04923C31.8292 0.556923 30.3754 0.218462 28.2462 0.12C26.1123 0.023077 25.4308 0 20 0ZM20 3.60308C25.34 3.60308 25.9723 3.62462 28.0815 3.72C30.0308 3.80923 31.0908 4.13539 31.7954 4.40923C32.7292 4.77231 33.3954 5.20462 34.0954 5.90462C34.7954 6.60462 35.2277 7.27077 35.5908 8.20462C35.8646 8.90923 36.1908 9.96769 36.28 11.9185C36.3754 14.0262 36.3969 14.66 36.3969 20C36.3969 25.34 36.3754 25.9723 36.28 28.0815C36.1908 30.0323 35.8646 31.0908 35.5908 31.7954C35.2704 32.6641 34.7594 33.4501 34.0954 34.0954C33.4501 34.7595 32.6642 35.2704 31.7954 35.5908C31.0908 35.8646 30.0308 36.1908 28.0815 36.28C25.9738 36.3754 25.34 36.3969 20 36.3969C14.66 36.3969 14.0262 36.3754 11.9185 36.28C9.96769 36.1908 8.90923 35.8646 8.20462 35.5908C7.33583 35.2704 6.5499 34.7595 5.90462 34.0954C5.24066 33.45 4.72969 32.6641 4.40923 31.7954C4.13539 31.0908 3.80923 30.0323 3.72 28.0815C3.62462 25.9738 3.60308 25.34 3.60308 20C3.60308 14.66 3.62462 14.0277 3.72 11.9185C3.80923 9.96769 4.13539 8.90923 4.40923 8.20462C4.77231 7.27077 5.20462 6.60462 5.90462 5.90462C6.54993 5.24058 7.33586 4.7296 8.20462 4.40923C8.90923 4.13539 9.96769 3.80923 11.9185 3.72C14.0262 3.62462 14.66 3.60308 20 3.60308Z" fill="#A07F75"/>
            <motion.path className={styles.path} fillRule="evenodd" clipRule="evenodd" d="M20 9.23079C17.1438 9.23079 14.4046 10.3654 12.385 12.385C10.3654 14.4046 9.23077 17.1438 9.23077 20C9.23077 22.8562 10.3654 25.5954 12.385 27.615C14.4046 29.6346 17.1438 30.7692 20 30.7692C22.8562 30.7692 25.5954 29.6346 27.615 27.615C29.6346 25.5954 30.7692 22.8562 30.7692 20C30.7692 17.1438 29.6346 14.4046 27.615 12.385C25.5954 10.3654 22.8562 9.23079 20 9.23079ZM20 26.9231C18.1639 26.9231 16.403 26.1937 15.1047 24.8954C13.8063 23.597 13.0769 21.8361 13.0769 20C13.0769 18.1639 13.8063 16.403 15.1047 15.1047C16.403 13.8063 18.1639 13.0769 20 13.0769C21.8361 13.0769 23.597 13.8063 24.8954 15.1047C26.1937 16.403 26.9231 18.1639 26.9231 20C26.9231 21.8361 26.1937 23.597 24.8954 24.8954C23.597 26.1937 21.8361 26.9231 20 26.9231ZM33.3846 9.38463C33.3846 9.70789 33.321 10.028 33.1972 10.3266C33.0735 10.6253 32.8922 10.8966 32.6636 11.1252C32.4351 11.3538 32.1637 11.5351 31.8651 11.6588C31.5664 11.7825 31.2463 11.8462 30.9231 11.8462C30.5998 11.8462 30.2797 11.7825 29.9811 11.6588C29.6824 11.5351 29.4111 11.3538 29.1825 11.1252C28.9539 10.8966 28.7726 10.6253 28.6489 10.3266C28.5252 10.028 28.4615 9.70789 28.4615 9.38463C28.4615 8.73179 28.7209 8.10569 29.1825 7.64406C29.6441 7.18244 30.2702 6.9231 30.9231 6.9231C31.5759 6.9231 32.202 7.18244 32.6636 7.64406C33.1253 8.10569 33.3846 8.73179 33.3846 9.38463Z" fill="#A07F75"/>
        </motion.svg>
    ),
    linkedin:"",
    github:"",
    whatsapp:""
}
export const Icon = ({
    icon="instagram",
    link,
    inView = false,
    delay= 0

}: {
    icon: 'instagram' | 'linkedin' | 'github' | 'whatsapp';
    link?: string;
    inView?: boolean
    delay?: number
}) => {
    const element = icons[icon];  // Busca el 'd' correspondiente al nombre

    if (!element) {
        return null; // Si no se encuentra el Ã­cono, no renderiza nada
    }
    
    const ref = useRef(null);
    const isInView = useInView(ref, {
        once: false,
        margin: "100000px 0px -50px 0px"
    });

    return (
        inView?(
            <motion.a 
            ref={ref}
            className={styles.container}
            initial={{opacity:0}}
            animate={isInView ?{ scale: [0.0, 0, 1.1, 1], opacity:[0, 0, 1, 1] }:{scale:0, opacity:0}}
            transition={{duration: 0.4}}
            >
                {element}
            </motion.a>
        ):(
            <motion.a
                className={styles.container}
                initial={{opacity:0}}
                animate={{ scale: [0.0, 0, 1.1, 1], opacity:[0, 0, 1, 1] }}
                transition={{ duration: 0.4, delay: delay }}
            >
                {element}
            </motion.a>
        )
    );
};